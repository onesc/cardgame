<!DOCTYPE html>
<html>
   <head>
      	<title>Hello world</title>
      	 <script src = "/socket.io/socket.io.js"></script>
   <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
   </head>
   <body>
   		<button id="play">Play</button>
   		<div>Your HP is <span class = "yourhp hp"></span></div>
   		<div>Your enemies HP is<span class = "enemyhp hp"></span></div>
   		<div id = "hand"></div>
   		<button id="draw">Draw Card</button>

   </body>
  
   <script>


   	var socket = io();

   	$("#play").click(function() {
	  	socket.emit("enterPlayer");
	  	$("#play").hide()
		});

		$("#draw").click(function() {
	  	socket.emit("playerDraw");
		});

  	socket.on('state', function(game) {
  		if (game.players.length !== 2) { return };

			var me = game.players.find(function(p){ return p.id === socket.id});
  		var opponent = game.players.find(function(p){ return p.id !== socket.id});

  		$('.yourhp').text(me.hp)
  		$('.enemyhp').text(opponent.hp)
  		$('#hand').html($('<ul>')
			.append(me.hand.map(card => $("<li>").text(card.name))));
  	});

   </script>

   <style type="text/css">
   		.hp {
   			font-size: 30px;
   			color: red;
   		}
   </style>
</html>